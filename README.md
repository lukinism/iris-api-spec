# üìò API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Iris. –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è: 0.4.

## üìë –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
- [üì¶ –ú–µ—Ç–æ–¥—ã Pocket](#-–º–µ—Ç–æ–¥—ã-pocket)
    - [pocket/balance](#pocketbalance)
    - [pocket/sweets/give](#pocketsweetsgive)
    - [pocket/gold/give](#pocketgoldgive)
    - [pocket/donate_score/give](#pocketdonate_scoregive)
    - [pocket/sweets/history](#pocketsweetshistory)
    - [pocket/gold/history](#pocketgoldhistory)
    - [pocket/donate_score/history](#pocketdonate_scorehistory)
    - [pocket/tgstars/give](#pockettgstarsgive)
    - [pocket/tgstars/history](#pockettgstarshistory)
    - [pocket/tgstars/buy](#pockettgstarsbuy)
    - [pocket/tgstars/price](#pockettgstarsprice)
    - [pocket/enable / disable / allow_all / deny_all](#pocketenable--pocketdisable--pocketallow_all--pocketdeny_all)
    - [pocket/allow_user](#pocketallow_user)
    - [pocket/deny_user](#pocketdeny_user)
- [üë§ –ú–µ—Ç–æ–¥—ã User Info](#-–º–µ—Ç–æ–¥—ã-user-info)
    - [user_info/reg](#user_inforeg)
    - [user_info/activity](#user_infoactivity)
    - [user_info/spam](#user_infospam)
    - [user_info/stars](#user_infostars)
    - [user_info/pocket](#user_infopocket)
- [üîÑ –ú–µ—Ç–æ–¥—ã Updates](#-–º–µ—Ç–æ–¥—ã-updates)
    - [updates/getUpdates](#updatesgetupdates)
- [üí∞ –ú–µ—Ç–æ–¥—ã Trade](#-–º–µ—Ç–æ–¥—ã-trade)
    - [trade/buy](#tradebuy)
    - [trade/sell](#tradesell)
    - [trade/cancel_price](#tradecancel_price)
    - [trade/cancel_all](#tradecancel_all)
    - [trade/cancel_part](#tradecancel_part)
    - [trade/orderbook](#tradeorderbook)
    - [trade/deals](#tradedeals)
- [‚öôÔ∏è –û—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã](#-–æ—Å—Ç–∞–ª—å–Ω—ã–µ-–º–µ—Ç–æ–¥—ã)
    - [/iris_agents](#iris_agents)
    - [/last_version](#last_version)
- [‚ö†Ô∏è –û—à–∏–±–∫–∏ API](#-–æ—à–∏–±–∫–∏-api)
- [üíê –û—Å–æ–±—ã–µ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏](#-–æ—Å–æ–±—ã–µ-–±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏)

---

# üì¶ –ú–µ—Ç–æ–¥—ã Pocket

---

## `pocket/balance`

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": {
    "gold": integer,
    "sweets": float,
    "donate_score": integer,
    "tgstars": integer
  }
}
```

---

## `pocket/sweets/give`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø   | –û–ø–∏—Å–∞–Ω–∏–µ                                                                               |
|-----------|-------|----------------------------------------------------------------------------------------|
| `user_id` | integer | ‚úÖ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏—Ä–∏—Å–∫–∏                                        |
| `amount` | float | ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ä–∏—Å–æ–∫ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏                                                       |
| `comment` | string | üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–µ—Ä–µ–≤–æ–¥—É                                                              |
| `without_donate_score` | boolean | ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–Ω–∞—Ç –æ—á–∫–∏ –∫ –ø–µ—Ä–µ–≤–æ–¥—É                                                   |
| `donate_score` | int   | ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –ø–µ—Ä–µ–¥–∞—á–µ –∏—Ä–∏—Å–æ–∫ |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{ "result": integer }
```

---

## `pocket/gold/give`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                                                              |
|-----------|---------|---------------------------------------------------------------------------------------|
| `user_id` | integer | ‚úÖ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≥–æ–ª–¥–∞                                        |
| `amount` | integer  | ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–¥—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏                                                       |
| `comment` | string  | üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–µ—Ä–µ–≤–æ–¥—É                                                             |
| `without_donate_score` | boolean | ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–Ω–∞—Ç –æ—á–∫–∏ –∫ –ø–µ—Ä–µ–≤–æ–¥—É                                                  |
| `donate_score` | int   | ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –ø–µ—Ä–µ–¥–∞—á–µ –≥–æ–ª–¥—ã |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{ "result": integer }
```

---

## `pocket/donate_score/give`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `user_id` | integer | ‚úÖ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –¥–æ–Ω–∞—Ç-–æ—á–∫–∏ |
| `amount` | integer | ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ |
| `comment` | string | üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–µ—Ä–µ–≤–æ–¥—É |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{ "result": integer }
```

---

## `pocket/sweets/history`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `offset` | integer | üí¨ –í–µ—Ä–Ω—É—Ç—å –∑–∞–ø–∏—Å–∏, –≥–¥–µ `id ‚â• offset` |
| `limit` | integer | üí¨ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –æ—Ç–≤–µ—Ç–µ |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": [
    {
      "date": integer,
      "amount": float,
      "balance": float,
      "to_user_id": integer,
      "details": {
        "total": float,
        "amount": float,
        "fee": float,
        "donate_score": integer
      },
      "comment": string,
      "id": integer,
      "type": string,
      "peer_id": integer
    }
  ]
}
```
`type` –º–æ–∂–µ—Ç –±—ã—Ç—å `send`, `receive`, `trade`, `dividends`, `trade_sale_order`, `send_with`, `purchase_tgstars` (–∏—Ä–∏—Å–∫–∏ –ø–æ—Ç—Ä–∞—á–µ–Ω—ã –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –≤ —Ç–≥-–∑–≤—ë–∑–¥—ã).

---

## `pocket/tgstars/give`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `amount` | integer | ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–≥-–∑–≤—ë–∑–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ |
| `user_id` | integer | ‚úÖ ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è |
| `comment` | string | üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–µ—Ä–µ–≤–æ–¥—É |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{ "result": integer }
```

---

## `pocket/tgstars/history`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `offset` | integer | üí¨ –í–µ—Ä–Ω—É—Ç—å –∑–∞–ø–∏—Å–∏, –≥–¥–µ `id ‚â• offset` |
| `limit` | integer | üí¨ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 200) |

**üí¨ –û—Ç–≤–µ—Ç (—Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π):**
```json
{
  "result": [
    {
      "id": integer,
      "type": "send | receive | purchase",
      "date": integer,
      "amount": integer,
      "balance": integer,
      "peer_id": integer,
      "comment": string
    }
  ]
}
```

---

## `pocket/tgstars/buy`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `amount` | integer | ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–≥-–∑–≤—ë–∑–¥ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{ "result": integer }
```

---

## `pocket/tgstars/price`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `amount` | integer | ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–≥-–∑–≤—ë–∑–¥ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": {
    "tgstars": integer,
    "sweets": integer
  }
}
```

---

## `pocket/gold/history`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `offset` | integer | üí¨ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π ID –∑–∞–ø–∏—Å–∏ |
| `limit` | integer | üí¨ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": [
    {
      "date": integer,
      "amount": integer,
      "balance": integer,
      "to_user_id": integer,
      "details": {
        "total": integer,
        "amount": integer,
        "fee": integer,
        "donate_score": integer
      },
      "comment": string,
      "id": integer,
      "type": string,
      "peer_id": integer
    }
  ]
}
```

---

## `pocket/donate_score/history`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `offset` | integer | üí¨ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π ID –∑–∞–ø–∏—Å–∏ |
| `limit` | integer | üí¨ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": [
    {
      "date": integer,
      "amount": integer,
      "balance": integer,
      "id": integer,
      "type": string,
      "peer_id": integer,
      "comment": string
    }
  ]
}
```

---

## `pocket/enable` / `pocket/disable` / `pocket/allow_all` / `pocket/deny_all`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

(–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç)

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{ "result": boolean }
```

---

## `pocket/allow_user`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `user_id` | integer | ‚úÖ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–º—É —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤–∞–ª—é—Ç—É |

---

## `pocket/deny_user`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ                                                |
|-----------|-----|---------------------------------------------------------|
| `user_id` | integer | ‚úÖ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–º—É –∑–∞–ø—Ä–µ—â–µ–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤–∞–ª—é—Ç—É |

---

# üë§ –ú–µ—Ç–æ–¥—ã User Info

---

## `user_info/reg`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `user_id` | integer | ‚úÖ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞—Ç—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{ "result": integer }
```

---

## `user_info/activity`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `user_id` | integer | ‚úÖ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": {
    "total": integer,
    "week": integer,
    "month": integer,
    "day": integer
  }
}
```

---

## `user_info/spam`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `user_id` | integer | ‚úÖ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –±–∞–∑–∞—Ö —Å–ø–∞–º–∞/—Å–∫–∞–º–∞/–∏–≥–Ω–æ—Ä–∞ |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": {
    "is_spam": boolean,
    "is_ignore": boolean,
    "is_scam": boolean
  }
}
```

---

## `user_info/stars`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `user_id` | integer | ‚úÖ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–≤—ë–∑–¥–Ω–æ—Å—Ç—å –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{ "result": integer }
```

---

## `user_info/pocket`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `user_id` | integer | ‚úÖ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á–µ–π –º–µ—à–æ–∫ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": {
    "gold": integer,
    "coins": integer,
    "sweets": float,
    "stars": integer,
    "tgstars": integer
  }
}
```

---

# üîÑ –ú–µ—Ç–æ–¥—ã Updates

---

## `updates/getUpdates`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                                                             |
| -------- | ------- | ------------------------------------------------------------------------------------ |
| `offset` | integer | ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è. –°–ª–µ–¥—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã —Å `id > offset`. |
| `limit` | integer | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –æ—Ç–≤–µ—Ç–µ |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": [
    {
      "id": 11,
      "type": "donate_score_log",
      "date": 1756286741,
      "object": { ... }
    }
  ]
}
```
üìò –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π:

| –ü–æ–ª–µ     |   –¢–∏–ø   | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                        |
| :------- | :-----: | :------------------------------------------------------------------------------------------------------------------------------ |
| `id`     | integer | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–±—ã—Ç–∏—è                                                                                                |
| `type`   |  string | –¢–∏–ø —Å–æ–±—ã—Ç–∏—è: `sweets_log`, `gold_log`, `donate_score_log`, `tgstars_log`                                                       |
| `date`   | integer | –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ UNIX (—Å–µ–∫—É–Ω–¥—ã)                                                                                          |
| `object` |  object | –û–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è. –°–æ–≤–ø–∞–¥–∞–µ—Ç –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å –º–µ—Ç–æ–¥–∞–º–∏ `pocket/sweets/history`, `pocket/gold/history`, `pocket/donate_score/history`, `pocket/tgstars/history` |


---

# üí∞ –ú–µ—Ç–æ–¥—ã Trade

---

## `trade/buy`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `price` | float | ‚úÖ –¶–µ–Ω–∞, –∫–æ—Ç–æ—Ä—É—é –≤—ã –≥–æ—Ç–æ–≤—ã –∑–∞–ø–ª–∞—Ç–∏—Ç—å –∑–∞ 1 –µ–¥. –≥–æ–ª–¥—ã |
| `volume` | integer | ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–¥—ã –¥–ª—è –ø–æ–∫—É–ø–∫–∏ |

**üí¨ –û—Ç–≤–µ—Ç (–µ—Å–ª–∏ —Å–¥–µ–ª–∫–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∞):**
```json
{
  "result": {
    "done_volume": integer,
    "sweets_spent": float
  }
}
```

**üí¨ –û—Ç–≤–µ—Ç (–µ—Å–ª–∏ –Ω–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞—è–≤–∫–∞):**
```json
{
  "result": {
    "done_volume": integer,
    "sweets_spent": float,
    "new_order": {
      "volume": integer,
      "price": float,
      "id": integer
    }
  }
}
```

---

## `trade/sell`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `price` | float | ‚úÖ –¶–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–∞—Ç—å 1 –µ–¥. –≥–æ–ª–¥—ã |
| `volume` | integer | ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–¥—ã –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ |

**üí¨ –û—Ç–≤–µ—Ç (–º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞):**
```json
{
  "result": {
    "done_volume": integer,
    "sweets_received": float
  }
}
```

**üí¨ –û—Ç–≤–µ—Ç (–µ—Å–ª–∏ –Ω–µ—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞—è–≤–∫–∞):**
```json
{
  "result": {
    "done_volume": integer,
    "sweets_received": float,
    "new_order": {
      "volume": integer,
      "price": float,
      "id": integer
    }
  }
}
```

---

## `trade/cancel_price`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-----------|
| `price` | float | ‚úÖ –¶–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ (–æ—Ç `0.01` –¥–æ `1_000_000`) |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": {
    "gold": integer,
    "sweets": float
  }
}
```
**üìò –û–ø–∏—Å–∞–Ω–∏–µ:**

- `gold` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã—Ö –≤ –º–µ—à–æ–∫ –∑–æ–ª–æ—Ç—ã—Ö –∏—Ä–∏—Å–æ–∫.
- `sweets` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã—Ö –≤ –º–µ—à–æ–∫ –∏—Ä–∏—Å–æ–∫.

---

## `trade/cancel_all`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

(–ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–µ—Ç)

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": {
    "gold": integer,
    "sweets": float
  }
}
```
**üìò –û–ø–∏—Å–∞–Ω–∏–µ:**

- `gold` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã—Ö –≤ –º–µ—à–æ–∫ –∑–æ–ª–æ—Ç—ã—Ö –∏—Ä–∏—Å–æ–∫.
- `sweets` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã—Ö –≤ –º–µ—à–æ–∫ –∏—Ä–∏—Å–æ–∫.

---

## `trade/cancel_part`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                         |
| :------- | :------ | :------------------------------------------------------------------------------------------------------------------------------- |
| `id`     | integer | ID –∑–∞—è–≤–∫–∏ –Ω–∞ –ò—Ä–∏—Å-–±–∏—Ä–∂–µ.                                                                                                         |
| `volume` | float   | –û–±—ä—ë–º –∑–æ–ª–æ—Ç—ã—Ö –∏—Ä–∏—Å–æ–∫ –¥–ª—è –æ—Ç–º–µ–Ω—ã. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–π –æ–±—ä—ë–º —Ä–∞–≤–µ–Ω –∏–ª–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –æ–±—ä—ë–º –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∑–∞—è–≤–∫–∏, —Ç–æ –∑–∞—è–≤–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–Ω–∏–º–∞–µ—Ç—Å—è. |

**üí¨ –û—Ç–≤–µ—Ç:**

```json
{
  "result": {
    "gold": integer,
    "sweets": float
  }
}
```
**üìò –û–ø–∏—Å–∞–Ω–∏–µ:**

 - `gold` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã—Ö –≤ –º–µ—à–æ–∫ –∑–æ–ª–æ—Ç—ã—Ö –∏—Ä–∏—Å–æ–∫.
 - `sweets` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã—Ö –≤ –º–µ—à–æ–∫ –∏—Ä–∏—Å–æ–∫.

---

## `trade/deals`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|-----------|
| `id` | integer | ID —Å–¥–µ–ª–∫–∏, –Ω–∞—á–∏–Ω–∞—è —Å –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–µ–ª–∫–∏) |
| `limit` | integer | –ú–∞–∫—Å–∏–º—É–º –∑–∞–ø–∏—Å–µ–π (0‚Äì200, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 200) |

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": [
    {
      "id": integer,
      "group_id": integer,
      "date": integer,
      "price": float,
      "volume": integer,
      "type": string
    }
  ]
}
```

**üìò –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|:------|:------:|:------|
| `id` | integer | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–¥–µ–ª–∫–∏ |
| `group_id` | integer | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≥—Ä—É–ø–ø—ã —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ (0, –µ—Å–ª–∏ —Å–¥–µ–ª–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–∞—è) |
| `date` | integer | –í—Ä–µ–º—è —Å–¥–µ–ª–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ UNIX (—Å–µ–∫—É–Ω–¥—ã) |
| `price` | float | –¶–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –±—ã–ª–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∞ —Å–¥–µ–ª–∫–∞ |
| `volume` | integer | –û–±—ä—ë–º —Å–¥–µ–ª–∫–∏ |
| `type` | string | –¢–∏–ø —Å–¥–µ–ª–∫–∏: `buy` ‚Äî –ø–æ–∫—É–ø–∫–∞, `sell` ‚Äî –ø—Ä–æ–¥–∞–∂–∞ |

---

## `trade/orderbook`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**  
(–ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–µ—Ç)

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": {
    "buy": [
      { "volume": integer, "price": float }
    ],
    "sell": [
      { "volume": integer, "price": float }
    ]
  }
}
```



# ‚öôÔ∏è –û—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

---

## `/iris_agents`

**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø   | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                    |
| --------  | ----- | ------------------------------------------------------------------------------------------- |
| `token`   | string | –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è `{bot_id}_{iris_token}`. –ü—Ä–∏–º–µ—Ä: `5293075118_SEibvWeRC19iRDk6SAwvu7TfzyOe4m6o` |

**üí¨ –û—Ç–≤–µ—Ç:**

```json
{
  "result": [ integer, integer, ... ]
}
```

**üìò –û–ø–∏—Å–∞–Ω–∏–µ:**

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ int64 ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ Telegram-–∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∞–≥–µ–Ω—Ç–æ–≤ Iris.

–ü—Ä–∏–º–µ—Ä:
```json
{
  "result": [571497337, 6826112951, 7057861690, 1072639353, 6530053533, 956560198, 1135399536, 5484288853, 1082239406, 661079614]
}
```

## `/last_version`
**üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:**  
(–ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–µ—Ç)

**üí¨ –û—Ç–≤–µ—Ç:**
```json
{
  "result": "0.4"
}
```

**üìò –û–ø–∏—Å–∞–Ω–∏–µ:**

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É —Å —Ç–µ–∫—É—â–µ–π –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π API Iris.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤.

---

# ‚ö†Ô∏è –û—à–∏–±–∫–∏ API

–§–æ—Ä–º–∞—Ç –æ—à–∏–±–∫–∏ (`ApiError`):
```json
{
  "error": {
    "code": 401,
    "description": "Invalid token"
  }
}
```

–ü—Ä–∏–º–µ—Ä —Å –∫–æ–¥–æ–º 400:
```json
{
  "error": {
    "code": 400,
    "description": "Required parameter \"{parameter}\" is absent"
  }
}
```

**–ö–æ–¥—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è:**

| –ö–æ–¥ | –°–æ–æ–±—â–µ–Ω–∏–µ | –ö–æ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è |
|:---:|:----------|:-------------------|
| 400 | Required parameter "{parameter}" is absent | –ù–µ —É–∫–∞–∑–∞–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä |
| 400 | User is 0 or not a number | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `user_id` |
| 400 | User denied receiving | –ü–µ—Ä–µ–≤–æ–¥—ã —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–∞–ø—Ä–µ—â–µ–Ω—ã |
| 400 | –î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–∞—è | `comment` > 128 —Å–∏–º–≤–æ–ª–æ–≤ |
| 400 | –°—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–∞–π—Ç—ã –≤ —Ç–µ–∫—Å—Ç–µ –∑–∞–ø—Ä–µ—â–µ–Ω—ã | –í —Ç–µ–∫—Å—Ç–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –≤–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏ |
| 400 | –û–±—Ä–∞—â–µ–Ω–∏—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤ —Ç–µ–∫—Å—Ç–µ –∑–∞–ø—Ä–µ—â–µ–Ω—ã | –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º |
| 400 | –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å–º–∞–π–ª–æ–≤ –≤ —Ç–µ–∫—Å—Ç–µ | >99 —ç–º–æ–¥–∑–∏ –≤ —Ç–µ–∫—Å—Ç–µ |
| 400 | Price is 0, negative or not a number | –ù–µ–≤–µ—Ä–Ω–æ —É–∫–∞–∑–∞–Ω–∞ —Ü–µ–Ω–∞ |
| 400 | Volume is 0, negative or not a number | –ù–µ–≤–µ—Ä–Ω–æ —É–∫–∞–∑–∞–Ω –æ–±—ä—ë–º |
| 400 | ID is 0, negative or not a number | –ù–µ–≤–µ—Ä–Ω—ã–π `id` –∑–∞—è–≤–∫–∏ |
| 400 | Tg stars is 0 or not a number | –ù–µ–≤–µ—Ä–Ω–æ —É–∫–∞–∑–∞–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–≥-–∑–≤—ë–∑–¥ |
| 400 | Version is wrong | –ù–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏ –≤ `/v{–Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏}/...` |
| 401 | Invalid token | –¢–æ–∫–µ–Ω –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –±–æ—Ç—É |
| 403 | Rights are not given | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–∞–ª —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä |
| 404 | Handler Not Found | –ú–µ—Ç–æ–¥ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —É–∫–∞–∑–∞–Ω —Å –æ—à–∏–±–∫–æ–π |
| 404 | User not found | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω |
| 404 | Order not found | –ó–∞—è–≤–∫–∞ –ø–æ `id` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ |
| 404 | No such bot | ID –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –±–æ—Ç—É |
| 409 | Not enough {currently}. Need {quantity} | –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤/—Ä–µ—Å—É—Ä—Å–æ–≤ |
| 429 | Flood control | –ë–æ–ª–µ–µ 3 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ —Å–µ–∫—É–Ω–¥—É |

---

## üíê –û—Å–æ–±—ã–µ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [**irisism**](https://t.me/irisism) ‚Äî –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ API.
- [**Fiftic**](https://t.me/m/26PUBa0BYjli) ‚Äî –∑–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–º–æ—â—å –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–µ–π –∏ –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

